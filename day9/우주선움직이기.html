<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>우주선움직이기</title>
	<style>
		#stage{
			height:800px;
		}
	</style>
	<script src="../lib/bullet.js"></script>
	<script src="../lib/Flame.js"></script>
	<script>
		var stage;
		var ship;

		//load 이벤트 처리
		window.addEventListener("load",function(){

			stage=document.getElementById("stage");
			stage.style.width=1000+"px";

			ship=new Ship(100,80,100,200,stage);

			ship.init();

			//불꽃화염 나오게...

			flame=new Flame(stage,100,50,5000,500);
			flame.init();
		});

		//마우스 이벤트 처리
		window.addEventListener("keydown",function(){
			if(event.keyCode==32){ //space bar 누르면...
				//alert("총쏴?");
				var b=new Bullet(stage,ship.x,ship.y);
				b.init();
			}else if(event.keyCode==37){//좌측으로...
				ship.x-=10;
				ship.go();
			}else if(event.keyCode==38){//위쪽으로...
				ship.y-=10;
				ship.go();
			}else if(event.keyCode==39){//우측으로..
				ship.x+=10;
				ship.go();
			}else if(event.keyCode==40){//아래로...
				ship.y+=10;
				ship.go();
			}
		});

		var Ship=function(width,height,x,y,area){			
			this.width=width;
			this.height=height;
			this.x=x;
			this.y=y;
			this.img;
			this.area=area;

			this.init=function(){
				this.img=document.createElement("img");
				this.img.src="../images/alienspaceship.png";
				this.img.style.width=this.width+"px";
				this.img.style.height=this.height+"px";
				this.img.style.position="absolute";
				this.img.style.left=this.x+"px";
				this.img.style.top=this.y+"px";
				this.img.style.transform="rotate(90deg)";
				stage.appendChild(this.img);
			}

			//방향이동!!
			this.go=function(){
				this.img.style.left=this.x+"px";
				this.img.style.top=this.y+"px";
			}

			this.move=function(){
				
			}
		}

	</script>
</head>
<body>
	<div id="stage"></div>
</body>
</html>
